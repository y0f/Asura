<h1>Getting Started</h1>

<p>One binary, one config file. No runtime, no external database, no container required.</p>

<h2>VPS Install (recommended)</h2>

<pre><code>git clone https://github.com/y0f/Asura.git
cd Asura
sudo bash install.sh</code></pre>

<p>The install script:</p>
<ul>
  <li>Installs Go if not present</li>
  <li>Builds a static binary (<code>CGO_ENABLED=0</code>)</li>
  <li>Creates a systemd service</li>
  <li>Generates an admin API key</li>
</ul>

<p>Takes a couple minutes on a fresh Ubuntu box.</p>

<blockquote>By default, Asura binds to <code>127.0.0.1:8090</code> and is <strong>not</strong> accessible from the internet. Set up a <a href="#deployment">reverse proxy</a> to expose it.</blockquote>

<pre><code>systemctl status asura
curl http://127.0.0.1:8090/api/v1/health</code></pre>

<h2>Docker Compose</h2>

<pre><code>git clone https://github.com/y0f/Asura.git
cd Asura
cp config.example.yaml config.yaml
# set your API key hash and database.path to /app/data/asura.db
docker compose up -d</code></pre>

<h2>From Source</h2>

<pre><code>make build
./asura --setup                        # generates key + hash
cp config.example.yaml config.yaml     # paste the hash
./asura -config config.yaml</code></pre>

<h2>Cross-compile + Deploy</h2>

<pre><code>make release
scp dist/asura-linux-amd64 you@server:/usr/local/bin/asura</code></pre>

<h2>Local Development</h2>

<p>Requires Go 1.24+ and the <a href="https://templ.guide/" target="_blank">templ</a> CLI:</p>

<pre><code>go install github.com/a-h/templ/cmd/templ@v0.3.977</code></pre>

<p>You also need the <a href="https://github.com/tailwindlabs/tailwindcss/releases" target="_blank">Tailwind CSS standalone CLI</a> binary in the project root (named <code>tailwindcss</code>).</p>

<h3>Watch Mode</h3>

<p>Start two watchers in separate terminals so templates and CSS rebuild on every save:</p>

<pre><code># Terminal 1 — recompile .templ files on change
templ generate --watch

# Terminal 2 — rebuild Tailwind CSS on change
./tailwindcss -i web/tailwind.input.css -o web/static/tailwind.css --watch

# Terminal 3 — run the server
go run ./cmd/asura -config config.yaml</code></pre>

<p>On Linux/macOS with <code>make</code> installed, <code>make dev</code> runs both watchers in one command.</p>

<p>On Windows, use <code>tailwindcss.exe</code> instead of <code>./tailwindcss</code>.</p>

<h3>One-Shot Build</h3>

<pre><code>templ generate                        # compile .templ → Go
go build -o asura ./cmd/asura         # build binary
go test -race -count=1 ./...          # run tests</code></pre>

<h2>Manual Setup</h2>

<p>If you want to set everything up yourself:</p>

<pre><code># Build
make build
sudo install -m 755 asura /usr/local/bin/asura

# Generate API key
asura --setup

# System user + directories
sudo useradd --system --no-create-home --shell /usr/sbin/nologin asura
sudo mkdir -p /etc/asura /var/lib/asura
sudo chown asura:asura /var/lib/asura
sudo chmod 700 /var/lib/asura

# Config
sudo cp config.example.yaml /etc/asura/config.yaml
# set hash, database.path, base_path, trusted_proxies
sudo chmod 640 /etc/asura/config.yaml
sudo chown root:asura /etc/asura/config.yaml

# Systemd
sudo cp asura.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable --now asura</code></pre>
