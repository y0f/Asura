{{define "title"}}{{.Data.Group.Name}}{{end}}
{{define "content"}}
{{$group := .Data.Group}}
{{$result := .Data.Monitors}}
<div>
    <div class="flex items-center justify-between mb-5">
        <div>
            <div class="flex items-center gap-2">
                <a href="{{$.BasePath}}/groups" class="text-muted hover:text-muted-light transition-colors">
                    <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                </a>
                <h1 class="text-[15px] font-medium text-white">{{$group.Name}}</h1>
            </div>
            <div class="text-[11px] text-muted mt-1 ml-[24px]">{{if $result}}{{$result.Total}} monitor{{if ne $result.Total 1}}s{{end}}{{else}}0 monitors{{end}}</div>
        </div>
    </div>

    <div class="border border-line rounded-lg overflow-hidden">
        {{if and $result $result.Data}}
        <div class="overflow-x-auto">
            <table class="w-full min-w-[640px]">
                <thead>
                    <tr class="border-b border-line text-left">
                        <th class="th">Monitor</th>
                        <th class="th">Type</th>
                        <th class="th">Status</th>
                        <th class="th">Last Check</th>
                        <th class="th text-right">Actions</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-line">
                    {{range $result.Data}}
                    <tr class="hover:bg-surface-200/20 transition-colors">
                        <td class="px-4 py-3">
                            <a href="{{$.BasePath}}/monitors/{{.ID}}" class="text-[13px] text-muted-light hover:text-white transition-colors font-medium">{{.Name}}</a>
                            <div class="text-[11px] text-muted mt-0.5 truncate max-w-xs font-mono">{{.Target}}</div>
                        </td>
                        <td class="px-4 py-3">
                            <span class="text-[10px] text-brand uppercase tracking-wider">{{typeLabel .Type}}</span>
                        </td>
                        <td class="px-4 py-3">
                            <div class="flex items-center gap-2">
                                <div class="w-1.5 h-1.5 rounded-full {{statusDot .Status}} {{if eq .Status "down"}}animate-pulse-dot{{end}}"></div>
                                <span class="text-[12px] {{statusColor .Status}}">{{.Status}}</span>
                            </div>
                        </td>
                        <td class="px-4 py-3 text-[12px] text-muted">
                            {{if .LastCheckAt}}{{timeAgo .LastCheckAt}}{{else}}<span class="text-muted/40">â€”</span>{{end}}
                        </td>
                        <td class="px-4 py-3 text-right">
                            <div class="flex items-center justify-end gap-2">
                                {{if index $.Perms "monitors.write"}}
                                {{if .Enabled}}
                                <form method="POST" action="{{$.BasePath}}/monitors/{{.ID}}/pause" class="contents">
                                    <button type="submit" class="inline-flex items-center text-muted hover:text-yellow-400 transition-colors" title="Pause">
                                        <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                                    </button>
                                </form>
                                {{else}}
                                <form method="POST" action="{{$.BasePath}}/monitors/{{.ID}}/resume" class="contents">
                                    <button type="submit" class="inline-flex items-center text-muted hover:text-emerald-400 transition-colors" title="Resume">
                                        <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                                    </button>
                                </form>
                                {{end}}
                                {{end}}
                                <a href="{{$.BasePath}}/monitors/{{.ID}}" class="inline-flex items-center text-muted hover:text-white transition-colors" title="View">
                                    <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                                </a>
                                {{if index $.Perms "monitors.write"}}
                                <a href="{{$.BasePath}}/monitors/{{.ID}}/edit" class="inline-flex items-center text-muted hover:text-brand transition-colors" title="Edit">
                                    <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                                </a>
                                {{end}}
                            </div>
                        </td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
        {{else}}
        <div class="px-4 py-16 text-center">
            <p class="text-muted text-[13px] mb-2">No monitors in this group</p>
            <a href="{{$.BasePath}}/monitors/new" class="text-[12px] text-brand hover:text-brand/80 transition-colors">Add a monitor</a>
        </div>
        {{end}}
    </div>
</div>
{{end}}
