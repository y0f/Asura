{{define "title"}}{{.Title}}{{end}}
{{define "content"}}
{{$p := .Data}}
<div>
    <h1 class="text-[15px] font-medium text-white mb-5">{{.Title}}</h1>

    <form method="POST" action="{{if $p.ID}}{{.BasePath}}/proxies/{{$p.ID}}{{else}}{{.BasePath}}/proxies{{end}}" class="max-w-2xl space-y-4">
        <div class="border border-line rounded-lg p-5 space-y-4">
            <div>
                <label class="form-label">Name</label>
                <input type="text" name="name" value="{{$p.Name}}" required
                       class="form-input"
                       placeholder="My Proxy">
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="form-label">Protocol</label>
                    <select name="protocol"
                            class="form-select">
                        <option value="http" {{if eq $p.Protocol "http"}}selected{{end}}>HTTP</option>
                        <option value="socks5" {{if eq $p.Protocol "socks5"}}selected{{end}}>SOCKS5</option>
                    </select>
                </div>
                <div>
                    <label class="form-label">Host</label>
                    <input type="text" name="host" value="{{$p.Host}}" required
                           class="form-input"
                           placeholder="proxy.example.com">
                </div>
                <div>
                    <label class="form-label">Port</label>
                    <input type="number" name="port" value="{{$p.Port}}" min="1" max="65535" required
                           class="form-input tabular-nums">
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="form-label">Auth Username</label>
                    <input type="text" name="auth_user" value="{{$p.AuthUser}}" placeholder="Optional"
                           class="form-input">
                </div>
                <div>
                    <label class="form-label">Auth Password</label>
                    <input type="password" name="auth_pass" value="{{$p.AuthPass}}" placeholder="Optional"
                           class="form-input">
                </div>
            </div>

            <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" name="enabled" {{if $p.Enabled}}checked{{end}}
                       class="form-checkbox">
                <span class="text-[12px] text-muted-light">Enabled</span>
            </label>
        </div>

        <div class="flex items-center gap-3">
            <button type="submit" class="btn-primary px-5">
                {{if $p.ID}}Update{{else}}Create{{end}}
            </button>
            <a href="{{.BasePath}}/proxies" class="text-[13px] text-muted hover:text-muted-light transition-colors">Cancel</a>
        </div>
    </form>
</div>
{{end}}
