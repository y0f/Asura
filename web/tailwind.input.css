@import "tailwindcss";

@source "../internal/web/views";
@source inline("bg-emerald-500 bg-yellow-500 bg-red-500 bg-emerald-400 bg-red-400 bg-yellow-400 bg-gray-500 text-emerald-400 text-red-400 text-yellow-400 text-gray-500 text-gray-400 text-blue-400 bg-emerald-500/10 bg-red-500/10 bg-yellow-500/10 bg-gray-500/10 border-emerald-500/20 border-red-500/20 border-yellow-500/20 border-gray-500/20 bg-muted/20");

@theme {
  --color-white: rgb(20 20 43);
  --color-brand: rgb(0 128 255);
  --color-surface: rgb(248 249 255);
  --color-surface-50: rgb(240 242 255);
  --color-surface-100: rgb(234 236 248);
  --color-surface-200: rgb(226 228 240);
  --color-surface-300: rgb(216 218 234);
  --color-muted: rgb(107 111 138);
  --color-muted-light: rgb(45 48 88);
  --color-line: rgb(224 226 240);
  --color-line-light: rgb(208 210 228);
  --font-sans: "Inter", "system-ui", "-apple-system", "sans-serif";
  --font-mono: "JetBrains Mono", "Menlo", "Consolas", "monospace";
}

/* ── Dark mode overrides ─────────────────────────────────────────────────── */
.dark {
  --color-white: rgb(255 255 255);
  --color-brand: rgb(0 128 255);
  --color-surface: rgb(9 9 11);
  --color-surface-50: rgb(14 14 18);
  --color-surface-100: rgb(19 19 24);
  --color-surface-200: rgb(26 26 34);
  --color-surface-300: rgb(34 34 48);
  --color-muted: rgb(67 70 86);
  --color-muted-light: rgb(167 170 188);
  --color-line: rgb(26 26 34);
  --color-line-light: rgb(34 34 48);
}

/* ── Component utilities ─────────────────────────────────────────────────── */
@utility form-label {
  @apply block text-[11px] text-muted uppercase tracking-widest mb-1.5;
}
@utility form-label-sm {
  @apply block text-[10px] text-muted uppercase tracking-widest mb-1;
}
@utility form-input {
  @apply w-full px-3 py-2 bg-surface border border-line rounded text-white text-[13px] placeholder-muted focus:outline-hidden focus:border-brand/30 transition-colors;
}
@utility form-select {
  @apply w-full px-3 py-2 bg-surface border border-line rounded text-white text-[13px] focus:outline-hidden focus:border-brand/30 transition-colors;
  appearance: none;
  -webkit-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.5rem center;
  background-size: 1rem;
  padding-right: 2rem;
}
@utility form-checkbox {
  @apply w-3.5 h-3.5 rounded-sm border border-line bg-surface cursor-pointer;
  appearance: none;
  -webkit-appearance: none;
  display: inline-grid;
  place-content: center;
}
@utility btn-primary {
  @apply px-4 py-2 bg-brand hover:bg-brand/85 text-white text-[13px] font-medium rounded transition-colors;
}
@utility th {
  @apply px-4 py-2.5 text-[10px] font-medium text-muted uppercase tracking-widest;
}
@utility filter-tab {
  @apply px-2.5 py-1 text-[10px] uppercase tracking-wider border rounded transition-colors whitespace-nowrap;
}
@utility filter-active {
  @apply text-brand border-brand/30 bg-brand/[0.04];
}
@utility filter-inactive {
  @apply text-muted border-line hover:text-muted-light;
}
@utility stat-label {
  @apply text-[10px] text-muted uppercase tracking-widest mb-1;
}

/* ── Checkbox states (can't use @utility for pseudo-elements) ───────────── */
.form-checkbox::before {
  content: "";
  width: 0.55em;
  height: 0.55em;
  transform: scale(0);
  transition: transform 0.1s ease-in-out;
  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
  background-color: white;
}
.form-checkbox:checked {
  background-color: var(--color-brand);
  border-color: var(--color-brand);
}
.form-checkbox:checked::before {
  transform: scale(1);
}
.form-checkbox:focus {
  outline: none;
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-brand) 30%, transparent);
}

/* ── Light mode: status text colours for contrast on pastel bg ───────────── */
:root:not(.dark) .text-emerald-400 { color: rgb(4 120 87); }
:root:not(.dark) .text-red-400     { color: rgb(185 28 28); }
:root:not(.dark) .text-yellow-400  { color: rgb(161 98 7); }
:root:not(.dark) .text-gray-400    { color: rgb(75 85 99); }
:root:not(.dark) .text-gray-500    { color: rgb(55 65 81); }
:root:not(.dark) .text-blue-400    { color: rgb(29 78 216); }
